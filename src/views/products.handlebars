<h1>Lista de Productos</h1>

<div class="product-grid">
  {{#each payload}}
    <div class="product-card">
      <h3>{{this.title}}</h3>
      <p><strong>Precio:</strong> ${{this.price}}</p>
      <p><strong>Categoría:</strong> {{this.category}}</p>

      <a href="/products/{{this._id}}">Ver detalles</a>
      <form action="/api/carts/ID_DEL_CARRITO/products/{{this._id}}" method="POST">
        <button type="submit">Agregar al carrito</button>
      </form>
    </div>
  {{/each}}
</div>

<div class="pagination">
  {{#if hasPrevPage}}
    <a href="?page={{prevPage}}">« Anterior</a>
  {{/if}}

  <span>Página {{page}} de {{totalPages}}</span>

  {{#if hasNextPage}}
    <a href="?page={{nextPage}}">Siguiente »</a>
  {{/if}}
</div>

<style>
  .product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
  }

  .product-card {
    border: 1px solid #ccc;
    border-radius: 0.5rem;
    padding: 1rem;
  }

  .pagination {
    margin-top: 2rem;
    display: flex;
    justify-content: center;
    gap: 1rem;
  }
</style>